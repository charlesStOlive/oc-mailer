# ===================================
#  Form Field Definitions
# ===================================
fields:
    subject:
        label: waka.mailer::wakamail.subject
        span: left
        required: true
        permissions: [waka.mailer.*]
    state:
        label: waka.mailer::wakamail.state
        span: right
        type: balloon-selector
        required: true
        options: listStates
        default: Actif
        permissions: [waka.mailer.admin.*]
tabs:
    defaultTab: waka.mailer::wakamail.tab_edit
    icons: 
        waka.mailer::wakamail.tab_info: icon-info-circle
        waka.mailer::wakamail.tab_edit: icon-pencil
        waka.mailer::wakamail.tab_options: icon-cog
        waka.mailer::wakamail.tab_contents: icon-pencil
        waka.mailer::wakamail.tab_session: icon-file
    fields:    
        is_mjml:
            label: waka.mailer::wakamail.is_mjml
            span: left
            type: switch
            default: false
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_edit
        mjml:
            label: waka.mailer::wakamail.mjml
            span: full
            type: codeeditor
            language: xml
            size: giant
            trigger:
                action: show
                field: is_mjml
                condition: checked
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_edit
        html:
            label: waka.mailer::wakamail.html
            span: full
            type: codeeditor
            size: giant
            language: html
            trigger:
                action: hide
                field: is_mjml
                condition: checked
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_edit
        rule_asks:
            label: waka.mailer::wakamail.rule_asks
            span: full
            type: rulebuilder
            targetProductor: wakaMail
            full_access: waka.rules.asks.admin
            ruleMode: ask
            showAttributes: true
            permissions: [waka.rules.asks.*]
            tab: waka.mailer::wakamail.tab_edit
        rule_fncs:
            label: waka.mailer::wakamail.rule_fncs
            span: full
            type: rulebuilder
            targetProductor: wakaMail
            full_access: waka.rules.fncs.admin
            ruleMode: fnc
            permissions: [waka.rules.fncs.*]
            tab: waka.mailer::wakamail.tab_edit
        auto_send:
            label: waka.mailer::wakamail.auto_send
            span: left
            type: switch
            default: true
            comment: waka.mailer::wakamail.auto_send_com
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        is_embed:
            label: waka.mailer::wakamail.is_embed
            span: right
            type: switch
            default: false
            comment: waka.mailer::wakamail.is_embed_com
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        has_log:
            label: waka.mailer::wakamail.has_log
            span: left
            type: switch
            default: true
            comment: waka.mailer::wakamail.has_log_com
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        open_log:
            label: waka.mailer::wakamail.open_log
            span: left
            type: switch
            trigger:
                action: show
                field: has_log
                condition: checked
            default: false
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        click_log:
            label: waka.mailer::wakamail.click_log
            span: right
            type: switch
            trigger:
                action: show
                field: has_log
                condition: checked
            default: false
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        has_sender:
            label: waka.mailer::wakamail.has_sender
            span: full
            type: switch
            default: false
            comment: waka.mailer::wakamail.has_sender_com
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        sender:
            label: waka.mailer::wakamail.sender
            span: left
            trigger:
                action: show
                field: has_sender
                condition: checked
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        reply_to:
            label: waka.mailer::wakamail.reply_to
            span: right
            trigger:
                action: show
                field: has_sender
                condition: checked
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        pjs:
            label: waka.mailer::wakamail.pjs
            span: full
            type: pjlist
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_edit
        is_lot:
            label: waka.mailer::wakamail.is_lot
            span: left
            type: switch
            default: true
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        rule_blocs:
            label: waka.mailer::wakamail.rule_blocs
            span: full
            type: rulebuilder
            targetProductor: wakaMail
            full_access: waka.rules.fncs.admin
            ruleMode: bloc
            comment: waka.mailer::wakamail.rule_blocs_com
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_contents
        rule_conditions:
            label: waka.mailer::wakamail.rule_conditions
            span: full
            type: rulebuilder
            ruleMode: condition
            targetProductor: wakaMail
            showAttributes: true
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_options
        mail_logs:
            label: waka.mailer::wakamail.mail_logs
            span: full
            type: partial
            path: field_mail_logs
            permissions: [waka.mailer.admin.*]
            tab: waka.mailer::wakamail.tab_logs
        waka_session:
            label: waka.mailer::wakamail.waka_session
            span: full
            type: partial
            path: field_waka_session
            permissions: [waka.mailer.admin.super]
            tab: waka.mailer::wakamail.tab_session
secondaryTabs:
    fields:
        # info:
        #     type: modelinfo
        #     mode: secondary
        #     src: /waka/mailer/models/wakamail/fields_for_side_bar.yaml
        infos:
            span: full
            type: modelinfo
            permissions: [waka.mailer.admin.*]
            tab: waka.mailer::wakamail.tab_infos
            src: waka/mailer/models/wakamail/fields_for_side_bar.yaml
        attributs:
            span: full
            type: attributs
            permissions: [waka.mailer.admin.*]
            tab: waka.mailer::wakamail.tab_attributs
        blocs:
            span: full
            type: comonblocs
            twigName: mailPartial
            blocClass: Waka\Mailer\Models\Bloc
            permissions: [waka.mailer.admin.*]
            tab: waka.mailer::wakamail.tab_blocs
